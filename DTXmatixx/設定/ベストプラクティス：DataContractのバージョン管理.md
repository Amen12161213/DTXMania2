
# ベストプラクティス：DataContract のバージョン管理
<https://msdn.microsoft.com/ja-jp/library/ms733832(v=vs.110).aspx>

## スキーマ検証が不要な場合のバージョン管理のガイドライン

1. 新しいバージョンを __継承__ で作ってはならない。\
→ 既存のバージョンのメンバを追加修正するか、または新しいクラスを定義する。

1. バージョン管理に関係のない継承を使うのは問題ない。

1. 必ず IExtensibleObject を実装する。

1. 新しいバージョンでは、DataContract名、名前空間、既存の DataMember名を変更してはならない。

1. enum の内容も、追加変更削除してはならない。EnumMember の Name が同一ならよし。

1. 既存の DataMember の __順序(Order)を変えてはならない。__

1. 新しい DataMember を追加する際には、以下の規則に従うこと。

   1. IsRequired プロパティ値は、規定値 false のまま変更しないこと。
   1. DataMember の Order プロパティで、__新しく追加されたメンバをすべて既存メンバの後に配置する__ こと。

1. 既存の DataMember を __削除してはならない。__

1. 既存の DataMember の IsRequired をバージョンごとに変更しないこと。

1. バージョンを分岐させないこと。\
〇 ver.1 を拡張して ver.2 を作る。\
×  ver.1 を拡張して、ver.2a と ver.2b を作る。

1. 新しいバージョンで新しいサブクラスを追加することは、旧バージョンでは型不明で例外が発生するのでやめること。


